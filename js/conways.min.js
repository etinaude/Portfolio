function defaultGrid(){cells=new Array(GRID_HEIGHT).fill(0).map(()=>new Array(GRID_WIDTH).fill(0)),cells.forEach(l=>l[l%5]=1);var l=cells[0].length-3;cells.length;cells[4][l]=1,cells[5][l]=1,cells[6][l]=1;for(let l=0;l<cells[0].length-10;l++)l%6==0?(cells[6][l]=1,cells[1][l]=1):l%6==1?(cells[7][l]=1,cells[2][l]=1):l%6==2&&(cells[5][l]=1,cells[6][l]=1,cells[7][l]=1,cells[0][l]=1,cells[1][l]=1,cells[2][l]=1);display()}function pauseToggle(){paused=!paused,document.getElementById("pauseBtn").text=paused?"Play":"Pause"}function setup(){noStroke(),defaultGrid(),background(32);var l=createCanvas(WIDTH,HEIGHT);l.parent("conway"),frameRate(FR)}function countNeighbours(l,e){var I=0,o=0==l?GRID_WIDTH-1:l-1,s=l==GRID_WIDTH-1?0:l+1,c=0==e?GRID_HEIGHT-1:e-1,r=e==GRID_HEIGHT-1?0:e+1;return I+=old[c][o],I+=old[c][l],I+=old[c][s],I+=old[r][o],I+=old[r][l],I+=old[r][s],I+=old[e][o],I+=old[e][s],I}function update(){old=JSON.parse(JSON.stringify(cells));for(var l=0;l<GRID_HEIGHT;l++)for(var e=0;e<GRID_WIDTH;e++){var I=countNeighbours(e,l);cells[l][e]&&(I>3||I<2)&&(cells[l][e]=0),cells[l][e]||3==I&&(cells[l][e]=1)}}function display(){for(var l=0;l<GRID_HEIGHT;l++)for(var e=0;e<GRID_WIDTH;e++)cells[l][e]?fill(73,173,255):fill(22),rect(e*CELL_SIZE,l*CELL_SIZE,CELL_SIZE,CELL_SIZE)}function draw(){looper+=1,10==looper&&(looper=0,paused||(display(),update()))}function mouseClicked(l){if(mouseX<CELL_SIZE*GRID_WIDTH&&mouseY<CELL_SIZE*GRID_HEIGHT){var e=mouseX-mouseX%CELL_SIZE,I=mouseY-mouseY%CELL_SIZE;1==cells[I/CELL_SIZE][e/CELL_SIZE]?(fill(255,84,84),cells[I/CELL_SIZE][e/CELL_SIZE]=0):(fill(0,110,255),cells[I/CELL_SIZE][e/CELL_SIZE]=1),rect(e,I,CELL_SIZE,CELL_SIZE)}}const WIDTH=Math.round(.6*window.innerWidth),HEIGHT=200,GRID_WIDTH=Math.round(WIDTH/20),GRID_HEIGHT=10,CELL_SIZE=20,FR=30;var cells=new Array(GRID_HEIGHT).fill(0).map(()=>new Array(GRID_WIDTH).fill(0)),old=[],paused=!1,looper=0;